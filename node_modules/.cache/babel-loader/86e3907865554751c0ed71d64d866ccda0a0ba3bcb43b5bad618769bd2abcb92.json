{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sbhagwanshinde\\\\Desktop\\\\mini proj\\\\my-app\\\\src\\\\components\\\\Cart.js\",\n  _s = $RefreshSig$();\n// import React,{useState} from 'react';\n// import { useCart } from './CartContext';\n// import axios from \"axios\";\n\n// const Cart = ({title}) => {\n//     const { cart: cartItems, setCart: setCartItems } = useCart();\n//     const [data, setData] = useState([]);\n\n//     const handlePlus = (cartItemId) => {\n//         const updatedCartItems = cartItems.map((item) =>\n//             item.id === cartItemId\n//                 ? { ...item, count: item.count + 1 }\n//                 : item\n//         );\n//         setCartItems(updatedCartItems);\n//     };\n\n//     const handleMinus = (cartItemId) => {\n//         const updatedCartItems = cartItems.map((item) =>\n//             item.id === cartItemId && item.count > 1\n//                 ? { ...item, count: item.count - 1 }\n//                 : item\n//         );\n//         setCartItems(updatedCartItems);\n//     };\n\n//     const handleRemove = (cartItemId) => {\n//         const updatedCartItems = cartItems.filter(\n//             (item) => item.id !== cartItemId\n//         );\n//         setCartItems(updatedCartItems);\n//     };\n\n//     const handleSummary = () => {\n//         // Add your logic for navigating to the summary page\n//         // For example, you can use React Router: history.push('/summary');\n//     };\n\n//     const getData = () => {\n//         axios\n//             .get('http://localhost:5120/api/Product')\n//            // .get('http://localhost:5120/api/Category')\n//             .then((result) => {\n//                 setData(result.data);\n\n//             })\n//             .catch((error) => {\n//                 console.log(error);\n//             });\n//     };\n\n//     // Use the cart from the CartContext\n//     const { cart } = useCart();\n\n//     return (\n//         // <div className='container'>\n//         //     <form method=\"post\">\n//         //         <br />\n//         //         <div className=\"card shadow border-0\">\n//         //             <div className=\"card-header bg-secondary bg-gradient text-light ml-0 py-4 text-center\">\n//         //                 <div className=\"row px-4\">\n//         //                     <div className=\"col-12\">\n//         //                         <h5 className=\"pt-2 text-white\">Shopping Cart</h5>\n//         //                     </div>\n//         //                 </div>\n//         //             </div>\n//         //             <div className=\"card-body my-4\">\n//         //                 <div className=\"row mb-3 pb-3\">\n//         //                     <div className=\"col-md-2 offset-md-1\">\n//         //                         <a\n//         //                             href=\"/admin\"\n//         //                             className=\"btn btn-outline-primary text-uppercase mb-5 btn-sm\"\n//         //                         >\n//         //                             <small>Continue Shopping</small>\n//         //                         </a>\n//         //                     </div>\n//         //                     <div className=\"col-md-10 offset-md-1\">\n//         //                         {cartItems.map((item) => (\n//         //                             <div key={item.id} className=\"row border-bottom pb-3\">\n//         //                                 <div className=\"d-none d-lg-block col-lg-1 text-center py-2\">\n//         //                                     {/* Add your cart item image rendering logic here */}\n//         //                                 </div>\n//         //                                 <div className=\"col-12 col-lg-6 pt-md-3\">\n//         //                                     <h5 className=\"text-uppercase text-secondary\">\n//         //                                         <strong>{item.product.title}</strong>\n//         //                                     </h5>\n//         //                                     <p>\n//         //                                         <small>{item.product.description}</small>\n//         //                                     </p>\n//         //                                 </div>\n//         //                                 <div className=\"col-12 col-lg-5 text-center row\">\n//         //                                     {/* Add your cart item count, price, and buttons rendering logic here */}\n//         //                                 </div>\n//         //                             </div>\n//         //                         ))}\n//         //                     </div>\n//         //                 </div>\n//         //                 <div className=\"card-footer bg-white border-0\">\n//         //                     <div className=\"row\">\n//         //                         <div className=\"col-md-4 offset-md-4\">\n//         //                             <ul className=\"list-group mb-4\">\n//         //                                 <li className=\"d-flex justify-content-between align-items-center\">\n//         //                                     <h5 className=\"text-dark fw-semibold text-uppercase\">\n//         //                                         Total (USD)\n//         //                                     </h5>\n//         //                                     <h4 className=\"text-dark fw-bolder\">\n//         //                                         {cartItems.reduce(\n//         //                                             (total, item) =>\n//         //                                                 total +\n//         //                                                 item.price * item.count,\n//         //                                             0\n//         //                                         ).toLocaleString('en-US', {\n//         //                                             style: 'currency',\n//         //                                             currency: 'USD',\n//         //                                         })}\n//         //                                     </h4>\n//         //                                 </li>\n//         //                             </ul>\n//         //                         </div>\n//         //                     </div>\n//         //                     <div className=\"row\">\n//         //                         <div className=\"col-md-2 offset-md-5\">\n//         //                             <button\n//         //                                 type=\"button\"\n//         //                                 onClick={handleSummary}\n//         //                                 className=\"btn btn-primary border-0 bg-gradient w-100 py-2\"\n//         //                             >\n//         //                                 Summary\n//         //                             </button>\n//         //                         </div>\n//         //                     </div>\n//         //                 </div>\n//         //             </div>\n//         //         </div>\n//         //     </form>\n//         // </div>\n\n//             // <div className=\"container\">\n//             //   <form method=\"post\">\n//             //     <br />\n//             //     <div className=\"card shadow border-0\">\n//             //       <div className=\"card-header bg-secondary bg-gradient text-light ml-0 py-4 text-center\">\n//             //         <div className=\"row px-4\">\n//             //           <div className=\"col-12\">\n//             //             <h5 className=\"pt-2 text-white\">Shopping Cart</h5>\n//             //           </div>\n//             //         </div>\n//             //       </div>\n//             //       <div className=\"card-body my-4\">\n//             //         <div className=\"row mb-3 pb-3\">\n//             //           <div className=\"col-md-2 offset-md-1\">\n//             //             <a\n//             //               href=\"/admin\"\n//             //               className=\"btn btn-outline-primary text-uppercase mb-5 btn-sm\"\n//             //             >\n//             //               <small>Continue Shopping</small>\n//             //             </a>\n//             //           </div>\n//             //           <div className=\"col-md-10 offset-md-1\">\n//             //             {cartItems.map((item) => (\n//             //               <div key={item.id} className=\"row border-bottom pb-3\">\n//             //                 <div className=\"d-none d-lg-block col-lg-1 text-center py-2\">\n//             //                   {/* Add your cart item image rendering logic here */}\n//             //                 </div>\n//             //                 <div className=\"col-12 col-lg-6 pt-md-3\">\n//             //                   <h5 className=\"text-uppercase text-secondary\">\n//             //                     <strong>{item.product.title}</strong>\n//             //                   </h5>\n//             //                   <p>\n//             //                     <small>{item.product.description}</small>\n//             //                   </p>\n//             //                 </div>\n//             //                 <div className=\"col-12 col-lg-5 text-center row\">\n//             //                   <div className=\"col-4\">\n//             //                     <p className=\"text-dark text-opacity-50 fw-semibold\">\n//             //                       Quantity: {item.count}\n//             //                     </p>\n//             //                   </div>\n//             //                   <div className=\"col-4\">\n//             //                     <p className=\"text-dark text-opacity-50 fw-semibold\">\n//             //                       Price: {item.price.toLocaleString('en-US', { style: 'currency', currency: 'USD' })}\n//             //                     </p>\n//             //                   </div>\n//             //                   <div className=\"col-4\">\n//             //                     <div className=\"btn-group\" role=\"group\">\n//             //                       <button\n//             //                         type=\"button\"\n//             //                         className=\"btn btn-outline-dark\"\n//             //                         onClick={() => handleMinus(item.id)}\n//             //                       >\n//             //                         -\n//             //                       </button>\n//             //                       <button\n//             //                         type=\"button\"\n//             //                         className=\"btn btn-outline-dark\"\n//             //                         onClick={() => handlePlus(item.id)}\n//             //                       >\n//             //                         +\n//             //                       </button>\n//             //                       <button\n//             //                         type=\"button\"\n//             //                         className=\"btn btn-outline-danger\"\n//             //                         onClick={() => handleRemove(item.id)}\n//             //                       >\n//             //                         Remove\n//             //                       </button>\n//             //                     </div>\n//             //                   </div>\n//             //                 </div>\n//             //               </div>\n//             //             ))}\n//             //           </div>\n//             //         </div>\n//             //         <div className=\"card-footer bg-white border-0\">\n//             //           <div className=\"row\">\n//             //             <div className=\"col-md-4 offset-md-4\">\n//             //               <ul className=\"list-group mb-4\">\n//             //                 <li className=\"d-flex justify-content-between align-items-center\">\n//             //                   <h5 className=\"text-dark fw-semibold text-uppercase\">\n//             //                     Total (USD)\n//             //                   </h5>\n//             //                   <h4 className=\"text-dark fw-bolder\">\n//             //                     {cartItems\n//             //                       .reduce((total, item) => total + item.price * item.count, 0)\n//             //                       .toLocaleString('en-US', { style: 'currency', currency: 'USD' })}\n//             //                   </h4>\n//             //                 </li>\n//             //               </ul>\n//             //             </div>\n//             //           </div>\n//             //           <div className=\"row\">\n//             //             <div className=\"col-md-2 offset-md-5\">\n//             //               <button\n//             //                 type=\"button\"\n//             //                 onClick={handleSummary}\n//             //                 className=\"btn btn-primary border-0 bg-gradient w-100 py-2\"\n//             //               >\n//             //                 Summary\n//             //               </button>\n//             //             </div>\n//             //           </div>\n//             //         </div>\n//             //       </div>\n//             //     </div>\n//             //   </form>\n//             // </div>\n\n//             <div className=\"container\">\n//       <form method=\"post\">\n//         <br />\n\n//         <div className=\"card shadow border-0\">\n//           <div className=\"card-header bg-secondary bg-gradient text-light ml-0 py-4 text-center\">\n//             <div className=\"row px-4\">\n//               <div className=\"col-12\">\n//                 <h5 className=\"pt-2 text-white\">Shopping Cart</h5>\n//               </div>\n//             </div>\n//           </div>\n//           <div className=\"card-body my-4\">\n//             <div className=\"row mb-3 pb-3\">\n//               <div className=\"col-md-2 offset-md-1\">\n//                 <a\n//                   href=\"/admin\"\n//                   className=\"btn btn-outline-primary text-uppercase mb-5 btn-sm\"\n//                 >\n//                   <small>Continue Shopping</small>\n//                 </a>\n//               </div>\n//               <div className=\"col-md-10 offset-md-1\">\n//                 {cartItems.map((item) => (\n//                   <div key={item.id} className=\"row border-bottom pb-3\">\n//                     <div className=\"d-none d-lg-block col-lg-1 text-center py-2\">\n//                       {/* Add your cart item image rendering logic here */}\n//                     </div>\n//                     <div className=\"col-12 col-lg-6 pt-md-3\">\n//                       <h5 className=\"text-uppercase text-secondary\">\n//                         <strong>{item.product.title}</strong>\n//                       </h5>\n//                       <p>\n//                         <small>{item.product.description}</small>\n//                       </p>\n//                     </div>\n//                     <div className=\"col-12 col-lg-5 text-center row\">\n//                       {/* Add your cart item count, price, and buttons rendering logic here */}\n//                       <div className=\"col-4\">\n//                         <button\n//                           type=\"button\"\n//                           onClick={() => handleMinus(item.id)}\n//                           className=\"btn btn-outline-secondary\"\n//                         >\n//                           -\n//                         </button>\n//                       </div>\n//                       <div className=\"col-4\">{item.count}</div>\n//                       <div className=\"col-4\">\n//                         <button\n//                           type=\"button\"\n//                           onClick={() => handlePlus(item.id)}\n//                           className=\"btn btn-outline-secondary\"\n//                         >\n//                           +\n//                         </button>\n//                       </div>\n//                       <div className=\"col-12 mt-2\">\n//                         <button\n//                           type=\"button\"\n//                           onClick={() => handleRemove(item.id)}\n//                           className=\"btn btn-outline-danger\"\n//                         >\n//                           Remove\n//                         </button>\n//                       </div>\n//                     </div>\n//                   </div>\n//                 ))}\n//               </div>\n//             </div>\n//             <div className=\"card-footer bg-white border-0\">\n//               <div className=\"row\">\n//                 <div className=\"col-md-4 offset-md-4\">\n//                   <ul className=\"list-group mb-4\">\n//                     {cartItems.length > 0 && (\n//                       <li className=\"d-flex justify-content-between align-items-center\">\n//                         <h5 className=\"text-dark fw-semibold text-uppercase\">\n//                           Total (USD)\n//                         </h5>\n//                         <h4 className=\"text-dark fw-bolder\">\n//                           {cartItems\n//                             .reduce(\n//                               (total, item) =>\n//                                 total + (item.price * item.count || 0),\n//                               0\n//                             )\n//                             .toLocaleString('en-US', {\n//                               style: 'currency',\n//                               currency: 'USD',\n//                             })}\n//                         </h4>\n//                       </li>\n//                     )}\n//                   </ul>\n//                 </div>\n//               </div>\n//               <div className=\"row\">\n//                 <div className=\"col-md-2 offset-md-5\">\n//                   <button\n//                     type=\"button\"\n//                     onClick={handleSummary}\n//                     className=\"btn btn-primary border-0 bg-gradient w-100 py-2\"\n//                   >\n//                     Summary\n//                   </button>\n//                 </div>\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n//       </form>\n//     </div>\n//           );\n//         };\n\n//         export default Cart;\n\nimport React, { useEffect, useState } from 'react';\nimport { useParams, useLocation, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { useCart } from './CartContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Cart = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    addToCart\n  } = useCart();\n  const [productData, setProductData] = useState(null);\n  const [count, setCount] = useState(1);\n  useEffect(() => {\n    const fetchData1 = async () => {\n      try {\n        if (id) {\n          const response = await axios.get(`http://localhost:5120/api/Product/${id}`);\n          const productData = response.data;\n\n          // Extract the filename from the \"fakepath\" and update the imageUrl\n          const imageUrl = productData.imageUrl.split('\\\\').pop();\n          setProductData({\n            ...productData,\n            imageUrl\n          });\n\n          // Log the updated image URL\n          console.log('Updated Image URL:', imageUrl);\n        }\n      } catch (error) {\n        console.error('Error fetching product data:', error);\n      }\n    };\n    fetchData1();\n  }, [id]);\n  const handleCountChange = e => {\n    // Ensure count is a positive integer\n    const newCount = Math.max(1, parseInt(e.target.value, 10) || 1);\n    setCount(newCount);\n  };\n  const handleAddToCart = () => {\n    if (productData) {\n      addToCart({\n        id: productData.id,\n        product: productData,\n        count\n      });\n      console.log('Item added to cart:', productData); // Add this line\n      navigate('/cart');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: productData ? /*#__PURE__*/_jsxDEV(\"form\", {\n      method: \"post\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        hidden: true,\n        \"asp-for\": \"ProductId\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card shadow border-0 mt-4 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header bg-dark bg-gradient text-light py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-white text-uppercase\",\n                children: productData.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-white-50 fw-semibold mb-0\",\n                children: [\"by \", productData.author]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 37\n              }, this)]\n            }, productData.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 431,\n    columnNumber: 13\n  }, this);\n};\n_s(Cart, \"3TdvrQaOwY8o0FI9DwzMud3AcYE=\", false, function () {\n  return [useParams, useNavigate, useCart];\n});\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useLocation","useNavigate","axios","useCart","jsxDEV","_jsxDEV","Cart","_s","id","navigate","addToCart","productData","setProductData","count","setCount","fetchData1","response","get","data","imageUrl","split","pop","console","log","error","handleCountChange","e","newCount","Math","max","parseInt","target","value","handleAddToCart","product","className","children","method","hidden","fileName","_jsxFileName","lineNumber","columnNumber","title","author","_c","$RefreshReg$"],"sources":["C:/Users/sbhagwanshinde/Desktop/mini proj/my-app/src/components/Cart.js"],"sourcesContent":["// import React,{useState} from 'react';\r\n// import { useCart } from './CartContext';\r\n// import axios from \"axios\";\r\n\r\n// const Cart = ({title}) => {\r\n//     const { cart: cartItems, setCart: setCartItems } = useCart();\r\n//     const [data, setData] = useState([]);\r\n\r\n//     const handlePlus = (cartItemId) => {\r\n//         const updatedCartItems = cartItems.map((item) =>\r\n//             item.id === cartItemId\r\n//                 ? { ...item, count: item.count + 1 }\r\n//                 : item\r\n//         );\r\n//         setCartItems(updatedCartItems);\r\n//     };\r\n\r\n//     const handleMinus = (cartItemId) => {\r\n//         const updatedCartItems = cartItems.map((item) =>\r\n//             item.id === cartItemId && item.count > 1\r\n//                 ? { ...item, count: item.count - 1 }\r\n//                 : item\r\n//         );\r\n//         setCartItems(updatedCartItems);\r\n//     };\r\n\r\n//     const handleRemove = (cartItemId) => {\r\n//         const updatedCartItems = cartItems.filter(\r\n//             (item) => item.id !== cartItemId\r\n//         );\r\n//         setCartItems(updatedCartItems);\r\n//     };\r\n\r\n//     const handleSummary = () => {\r\n//         // Add your logic for navigating to the summary page\r\n//         // For example, you can use React Router: history.push('/summary');\r\n//     };\r\n\r\n//     const getData = () => {\r\n//         axios\r\n//             .get('http://localhost:5120/api/Product')\r\n//            // .get('http://localhost:5120/api/Category')\r\n//             .then((result) => {\r\n//                 setData(result.data);\r\n    \r\n                \r\n    \r\n//             })\r\n//             .catch((error) => {\r\n//                 console.log(error);\r\n//             });\r\n//     };\r\n\r\n    \r\n\r\n//     // Use the cart from the CartContext\r\n//     const { cart } = useCart();\r\n\r\n//     return (\r\n//         // <div className='container'>\r\n//         //     <form method=\"post\">\r\n//         //         <br />\r\n//         //         <div className=\"card shadow border-0\">\r\n//         //             <div className=\"card-header bg-secondary bg-gradient text-light ml-0 py-4 text-center\">\r\n//         //                 <div className=\"row px-4\">\r\n//         //                     <div className=\"col-12\">\r\n//         //                         <h5 className=\"pt-2 text-white\">Shopping Cart</h5>\r\n//         //                     </div>\r\n//         //                 </div>\r\n//         //             </div>\r\n//         //             <div className=\"card-body my-4\">\r\n//         //                 <div className=\"row mb-3 pb-3\">\r\n//         //                     <div className=\"col-md-2 offset-md-1\">\r\n//         //                         <a\r\n//         //                             href=\"/admin\"\r\n//         //                             className=\"btn btn-outline-primary text-uppercase mb-5 btn-sm\"\r\n//         //                         >\r\n//         //                             <small>Continue Shopping</small>\r\n//         //                         </a>\r\n//         //                     </div>\r\n//         //                     <div className=\"col-md-10 offset-md-1\">\r\n//         //                         {cartItems.map((item) => (\r\n//         //                             <div key={item.id} className=\"row border-bottom pb-3\">\r\n//         //                                 <div className=\"d-none d-lg-block col-lg-1 text-center py-2\">\r\n//         //                                     {/* Add your cart item image rendering logic here */}\r\n//         //                                 </div>\r\n//         //                                 <div className=\"col-12 col-lg-6 pt-md-3\">\r\n//         //                                     <h5 className=\"text-uppercase text-secondary\">\r\n//         //                                         <strong>{item.product.title}</strong>\r\n//         //                                     </h5>\r\n//         //                                     <p>\r\n//         //                                         <small>{item.product.description}</small>\r\n//         //                                     </p>\r\n//         //                                 </div>\r\n//         //                                 <div className=\"col-12 col-lg-5 text-center row\">\r\n//         //                                     {/* Add your cart item count, price, and buttons rendering logic here */}\r\n//         //                                 </div>\r\n//         //                             </div>\r\n//         //                         ))}\r\n//         //                     </div>\r\n//         //                 </div>\r\n//         //                 <div className=\"card-footer bg-white border-0\">\r\n//         //                     <div className=\"row\">\r\n//         //                         <div className=\"col-md-4 offset-md-4\">\r\n//         //                             <ul className=\"list-group mb-4\">\r\n//         //                                 <li className=\"d-flex justify-content-between align-items-center\">\r\n//         //                                     <h5 className=\"text-dark fw-semibold text-uppercase\">\r\n//         //                                         Total (USD)\r\n//         //                                     </h5>\r\n//         //                                     <h4 className=\"text-dark fw-bolder\">\r\n//         //                                         {cartItems.reduce(\r\n//         //                                             (total, item) =>\r\n//         //                                                 total +\r\n//         //                                                 item.price * item.count,\r\n//         //                                             0\r\n//         //                                         ).toLocaleString('en-US', {\r\n//         //                                             style: 'currency',\r\n//         //                                             currency: 'USD',\r\n//         //                                         })}\r\n//         //                                     </h4>\r\n//         //                                 </li>\r\n//         //                             </ul>\r\n//         //                         </div>\r\n//         //                     </div>\r\n//         //                     <div className=\"row\">\r\n//         //                         <div className=\"col-md-2 offset-md-5\">\r\n//         //                             <button\r\n//         //                                 type=\"button\"\r\n//         //                                 onClick={handleSummary}\r\n//         //                                 className=\"btn btn-primary border-0 bg-gradient w-100 py-2\"\r\n//         //                             >\r\n//         //                                 Summary\r\n//         //                             </button>\r\n//         //                         </div>\r\n//         //                     </div>\r\n//         //                 </div>\r\n//         //             </div>\r\n//         //         </div>\r\n//         //     </form>\r\n//         // </div>\r\n\r\n//             // <div className=\"container\">\r\n//             //   <form method=\"post\">\r\n//             //     <br />\r\n//             //     <div className=\"card shadow border-0\">\r\n//             //       <div className=\"card-header bg-secondary bg-gradient text-light ml-0 py-4 text-center\">\r\n//             //         <div className=\"row px-4\">\r\n//             //           <div className=\"col-12\">\r\n//             //             <h5 className=\"pt-2 text-white\">Shopping Cart</h5>\r\n//             //           </div>\r\n//             //         </div>\r\n//             //       </div>\r\n//             //       <div className=\"card-body my-4\">\r\n//             //         <div className=\"row mb-3 pb-3\">\r\n//             //           <div className=\"col-md-2 offset-md-1\">\r\n//             //             <a\r\n//             //               href=\"/admin\"\r\n//             //               className=\"btn btn-outline-primary text-uppercase mb-5 btn-sm\"\r\n//             //             >\r\n//             //               <small>Continue Shopping</small>\r\n//             //             </a>\r\n//             //           </div>\r\n//             //           <div className=\"col-md-10 offset-md-1\">\r\n//             //             {cartItems.map((item) => (\r\n//             //               <div key={item.id} className=\"row border-bottom pb-3\">\r\n//             //                 <div className=\"d-none d-lg-block col-lg-1 text-center py-2\">\r\n//             //                   {/* Add your cart item image rendering logic here */}\r\n//             //                 </div>\r\n//             //                 <div className=\"col-12 col-lg-6 pt-md-3\">\r\n//             //                   <h5 className=\"text-uppercase text-secondary\">\r\n//             //                     <strong>{item.product.title}</strong>\r\n//             //                   </h5>\r\n//             //                   <p>\r\n//             //                     <small>{item.product.description}</small>\r\n//             //                   </p>\r\n//             //                 </div>\r\n//             //                 <div className=\"col-12 col-lg-5 text-center row\">\r\n//             //                   <div className=\"col-4\">\r\n//             //                     <p className=\"text-dark text-opacity-50 fw-semibold\">\r\n//             //                       Quantity: {item.count}\r\n//             //                     </p>\r\n//             //                   </div>\r\n//             //                   <div className=\"col-4\">\r\n//             //                     <p className=\"text-dark text-opacity-50 fw-semibold\">\r\n//             //                       Price: {item.price.toLocaleString('en-US', { style: 'currency', currency: 'USD' })}\r\n//             //                     </p>\r\n//             //                   </div>\r\n//             //                   <div className=\"col-4\">\r\n//             //                     <div className=\"btn-group\" role=\"group\">\r\n//             //                       <button\r\n//             //                         type=\"button\"\r\n//             //                         className=\"btn btn-outline-dark\"\r\n//             //                         onClick={() => handleMinus(item.id)}\r\n//             //                       >\r\n//             //                         -\r\n//             //                       </button>\r\n//             //                       <button\r\n//             //                         type=\"button\"\r\n//             //                         className=\"btn btn-outline-dark\"\r\n//             //                         onClick={() => handlePlus(item.id)}\r\n//             //                       >\r\n//             //                         +\r\n//             //                       </button>\r\n//             //                       <button\r\n//             //                         type=\"button\"\r\n//             //                         className=\"btn btn-outline-danger\"\r\n//             //                         onClick={() => handleRemove(item.id)}\r\n//             //                       >\r\n//             //                         Remove\r\n//             //                       </button>\r\n//             //                     </div>\r\n//             //                   </div>\r\n//             //                 </div>\r\n//             //               </div>\r\n//             //             ))}\r\n//             //           </div>\r\n//             //         </div>\r\n//             //         <div className=\"card-footer bg-white border-0\">\r\n//             //           <div className=\"row\">\r\n//             //             <div className=\"col-md-4 offset-md-4\">\r\n//             //               <ul className=\"list-group mb-4\">\r\n//             //                 <li className=\"d-flex justify-content-between align-items-center\">\r\n//             //                   <h5 className=\"text-dark fw-semibold text-uppercase\">\r\n//             //                     Total (USD)\r\n//             //                   </h5>\r\n//             //                   <h4 className=\"text-dark fw-bolder\">\r\n//             //                     {cartItems\r\n//             //                       .reduce((total, item) => total + item.price * item.count, 0)\r\n//             //                       .toLocaleString('en-US', { style: 'currency', currency: 'USD' })}\r\n//             //                   </h4>\r\n//             //                 </li>\r\n//             //               </ul>\r\n//             //             </div>\r\n//             //           </div>\r\n//             //           <div className=\"row\">\r\n//             //             <div className=\"col-md-2 offset-md-5\">\r\n//             //               <button\r\n//             //                 type=\"button\"\r\n//             //                 onClick={handleSummary}\r\n//             //                 className=\"btn btn-primary border-0 bg-gradient w-100 py-2\"\r\n//             //               >\r\n//             //                 Summary\r\n//             //               </button>\r\n//             //             </div>\r\n//             //           </div>\r\n//             //         </div>\r\n//             //       </div>\r\n//             //     </div>\r\n//             //   </form>\r\n//             // </div>\r\n\r\n//             <div className=\"container\">\r\n//       <form method=\"post\">\r\n//         <br />\r\n        \r\n//         <div className=\"card shadow border-0\">\r\n//           <div className=\"card-header bg-secondary bg-gradient text-light ml-0 py-4 text-center\">\r\n//             <div className=\"row px-4\">\r\n//               <div className=\"col-12\">\r\n//                 <h5 className=\"pt-2 text-white\">Shopping Cart</h5>\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n//           <div className=\"card-body my-4\">\r\n//             <div className=\"row mb-3 pb-3\">\r\n//               <div className=\"col-md-2 offset-md-1\">\r\n//                 <a\r\n//                   href=\"/admin\"\r\n//                   className=\"btn btn-outline-primary text-uppercase mb-5 btn-sm\"\r\n//                 >\r\n//                   <small>Continue Shopping</small>\r\n//                 </a>\r\n//               </div>\r\n//               <div className=\"col-md-10 offset-md-1\">\r\n//                 {cartItems.map((item) => (\r\n//                   <div key={item.id} className=\"row border-bottom pb-3\">\r\n//                     <div className=\"d-none d-lg-block col-lg-1 text-center py-2\">\r\n//                       {/* Add your cart item image rendering logic here */}\r\n//                     </div>\r\n//                     <div className=\"col-12 col-lg-6 pt-md-3\">\r\n//                       <h5 className=\"text-uppercase text-secondary\">\r\n//                         <strong>{item.product.title}</strong>\r\n//                       </h5>\r\n//                       <p>\r\n//                         <small>{item.product.description}</small>\r\n//                       </p>\r\n//                     </div>\r\n//                     <div className=\"col-12 col-lg-5 text-center row\">\r\n//                       {/* Add your cart item count, price, and buttons rendering logic here */}\r\n//                       <div className=\"col-4\">\r\n//                         <button\r\n//                           type=\"button\"\r\n//                           onClick={() => handleMinus(item.id)}\r\n//                           className=\"btn btn-outline-secondary\"\r\n//                         >\r\n//                           -\r\n//                         </button>\r\n//                       </div>\r\n//                       <div className=\"col-4\">{item.count}</div>\r\n//                       <div className=\"col-4\">\r\n//                         <button\r\n//                           type=\"button\"\r\n//                           onClick={() => handlePlus(item.id)}\r\n//                           className=\"btn btn-outline-secondary\"\r\n//                         >\r\n//                           +\r\n//                         </button>\r\n//                       </div>\r\n//                       <div className=\"col-12 mt-2\">\r\n//                         <button\r\n//                           type=\"button\"\r\n//                           onClick={() => handleRemove(item.id)}\r\n//                           className=\"btn btn-outline-danger\"\r\n//                         >\r\n//                           Remove\r\n//                         </button>\r\n//                       </div>\r\n//                     </div>\r\n//                   </div>\r\n//                 ))}\r\n//               </div>\r\n//             </div>\r\n//             <div className=\"card-footer bg-white border-0\">\r\n//               <div className=\"row\">\r\n//                 <div className=\"col-md-4 offset-md-4\">\r\n//                   <ul className=\"list-group mb-4\">\r\n//                     {cartItems.length > 0 && (\r\n//                       <li className=\"d-flex justify-content-between align-items-center\">\r\n//                         <h5 className=\"text-dark fw-semibold text-uppercase\">\r\n//                           Total (USD)\r\n//                         </h5>\r\n//                         <h4 className=\"text-dark fw-bolder\">\r\n//                           {cartItems\r\n//                             .reduce(\r\n//                               (total, item) =>\r\n//                                 total + (item.price * item.count || 0),\r\n//                               0\r\n//                             )\r\n//                             .toLocaleString('en-US', {\r\n//                               style: 'currency',\r\n//                               currency: 'USD',\r\n//                             })}\r\n//                         </h4>\r\n//                       </li>\r\n//                     )}\r\n//                   </ul>\r\n//                 </div>\r\n//               </div>\r\n//               <div className=\"row\">\r\n//                 <div className=\"col-md-2 offset-md-5\">\r\n//                   <button\r\n//                     type=\"button\"\r\n//                     onClick={handleSummary}\r\n//                     className=\"btn btn-primary border-0 bg-gradient w-100 py-2\"\r\n//                   >\r\n//                     Summary\r\n//                   </button>\r\n//                 </div>\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       </form>\r\n//     </div>\r\n//           );\r\n//         };\r\n        \r\n//         export default Cart;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams, useLocation, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { useCart } from './CartContext';\r\n\r\nconst Cart = () => {\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n    const { addToCart } = useCart();\r\n    const [productData, setProductData] = useState(null);\r\n    const [count, setCount] = useState(1);\r\n \r\n    useEffect(() => {\r\n        const fetchData1 = async () => {\r\n            try {\r\n                if (id) {\r\n                    const response = await axios.get(`http://localhost:5120/api/Product/${id}`);\r\n                    const productData = response.data;\r\n \r\n                    // Extract the filename from the \"fakepath\" and update the imageUrl\r\n                    const imageUrl = productData.imageUrl.split('\\\\').pop();\r\n                    setProductData({ ...productData, imageUrl });\r\n \r\n                    // Log the updated image URL\r\n                    console.log('Updated Image URL:', imageUrl);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching product data:', error);\r\n            }\r\n        };\r\n \r\n        fetchData1();\r\n    }, [id]);\r\n \r\n \r\n \r\n    const handleCountChange = (e) => {\r\n        // Ensure count is a positive integer\r\n        const newCount = Math.max(1, parseInt(e.target.value, 10) || 1);\r\n        setCount(newCount);\r\n    };\r\n\r\n    const handleAddToCart = () => {\r\n        if (productData) {\r\n          addToCart({\r\n            id: productData.id,\r\n            product: productData,\r\n            count\r\n          });\r\n          console.log('Item added to cart:', productData); // Add this line\r\n          navigate('/cart');\r\n        }\r\n      };\r\n\r\n    return (\r\n            <div className=\"container\">\r\n      {productData ? (\r\n                <form method=\"post\">\r\n                    <input hidden asp-for=\"ProductId\" />\r\n                    <div className=\"card shadow border-0 mt-4 mb-4\">\r\n                        <div className=\"card-header bg-dark bg-gradient text-light py-4\">\r\n                            <div className=\"row\">\r\n \r\n                                <div className=\"col-12 text-center\" key={productData.id}>\r\n                                    <h3 className=\"text-white text-uppercase\">{productData.title}</h3>\r\n                                    <p className=\"text-white-50 fw-semibold mb-0\">by {productData.author}</p>\r\n                                </div>\r\n \r\n                            </div>\r\n \r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            ) : (\r\n                <p>Loading...</p>\r\n            )}\r\n    </div>\r\n          );\r\n        };\r\n        \r\n        export default Cart;"],"mappings":";;AAAA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAQA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AACtE,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,IAAI,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACf,MAAM;IAAEC;EAAG,CAAC,GAAGT,SAAS,CAAC,CAAC;EAC1B,MAAMU,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAES;EAAU,CAAC,GAAGP,OAAO,CAAC,CAAC;EAC/B,MAAM,CAACQ,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,CAAC,CAAC;EAErCD,SAAS,CAAC,MAAM;IACZ,MAAMkB,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC3B,IAAI;QACA,IAAIP,EAAE,EAAE;UACJ,MAAMQ,QAAQ,GAAG,MAAMd,KAAK,CAACe,GAAG,CAAE,qCA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"},"metadata":{},"sourceType":"module","externalDependencies":[]}